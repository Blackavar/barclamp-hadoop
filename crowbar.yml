# Copyright 2011, Dell, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Author: RobHirschfeld
#

barclamp:
  name: hadoop
  display: Hadoop
  version: 0
  requires:
    - crowbar
    - ganglia
    - nagios

crowbar:
  layout: 1
  order: 200

locale_additions:
  en:
    barclamp:
      hadoop:
        edit_deployment: 
          deployment: Deployment        
        edit_attributes:
          core_attributes: Hadoop Core Attributes
          fs_checkpoint_dir: fs_checkpoint_dir
          fs_checkpoint_edits_dir: fs_checkpoint_edits_dir
          fs_checkpoint_period: fs_checkpoint_period
          fs_checkpoint_size: fs_checkpoint_size
          fs_default_name: fs_default_name
          fs_file_impl: fs_file_impl
          fs_ftp_impl: fs_ftp_impl
          fs_har_impl: fs_har_impl
          fs_har_impl_disable_cache: fs_har_impl_disable_cache
          fs_hdfs_impl: fs_hdfs_impl
          fs_hftp_impl: fs_hftp_impl
          fs_hsftp_impl: fs_hsftp_impl
          fs_kfs_impl: fs_kfs_impl
          fs_ramfs_impl: fs_ramfs_impl
          fs_s3_block_size: fs_s3_block_size
          fs_s3_buffer_dir: fs_s3_buffer_dir
          fs_s3_impl: fs_s3_impl
          fs_s3_maxRetries: fs_s3_maxRetries
          fs_s3_sleepTimeSeconds: fs_s3_sleepTimeSeconds
          fs_s3n_impl: fs_s3n_impl
          fs_trash_interval: fs_trash_interval
          hadoop_http_filter_initializers: hadoop_http_filter_initializers
          hadoop_logfile_count: hadoop_logfile_count
          hadoop_logfile_size: hadoop_logfile_size
          hadoop_native_lib: hadoop_native_lib
          hadoop_rpc_socket_factory_class_ClientProtocol: hadoop_rpc_socket_factory_class_ClientProtocol
          hadoop_rpc_socket_factory_class_default: hadoop_rpc_socket_factory_class_default
          hadoop_security_authentication: hadoop_security_authentication
          hadoop_security_authorization: hadoop_security_authorization
          hadoop_security_group_mapping: hadoop_security_group_mapping
          hadoop_security_uid_cache_secs: hadoop_security_uid_cache_secs
          hadoop_socks_server: hadoop_socks_server
          hadoop_tmp_dir: hadoop_tmp_dir
          hadoop_util_hash_type: hadoop_util_hash_type
          io_bytes_per_checksum: io_bytes_per_checksum
          io_compression_codecs: io_compression_codecs
          io_file_buffer_size: io_file_buffer_size
          io_mapfile_bloom_error_rate: io_mapfile_bloom_error_rate
          io_mapfile_bloom_size: io_mapfile_bloom_size
          io_seqfile_compress_blocksize: io_seqfile_compress_blocksize
          io_seqfile_lazydecompress: io_seqfile_lazydecompress
          io_seqfile_sorter_recordlimit: io_seqfile_sorter_recordlimit
          io_serializations: io_serializations
          io_skip_checksum_errors: io_skip_checksum_errors
          ipc_client_connect_max_retries: ipc_client_connect_max_retries
          ipc_client_connection_maxidletime: ipc_client_connection_maxidletime
          ipc_client_idlethreshold: ipc_client_idlethreshold
          ipc_client_kill_max: ipc_client_kill_max
          ipc_client_tcpnodelay: ipc_client_tcpnodelay
          ipc_server_listen_queue_size: ipc_server_listen_queue_size
          ipc_server_tcpnodelay: ipc_server_tcpnodelay
          local_cache_size: local_cache_size
          topology_node_switch_mapping_impl: topology_node_switch_mapping_impl
          topology_script_file_name: topology_script_file_name
          topology_script_number_args: topology_script_number_args
          webinterface_private_actions: webinterface_private_actions
          env_attributes: Hadoop Environment Attributes
          hadoop_datanode_opts: hadoop_datanode_opts
          hadoop_heapsize: hadoop_heapsize
          hadoop_jobtracker_opts: hadoop_jobtracker_opts
          hadoop_log_dir: hadoop_log_dir
          hadoop_namenode_opts: hadoop_namenode_opts
          hadoop_secondarynamenode_opts: hadoop_secondarynamenode_opts
          hadoop_tasktracker_opts: hadoop_tasktracker_opts
          hdfs_attributes: Hadoop HDFS Attributes
          dfs_access_time_precision: dfs_access_time_precision
          dfs_balance_bandwidthPerSec: dfs_balance_bandwidthPerSec
          dfs_block_access_key_update_interval: dfs_block_access_key_update_interval
          dfs_block_access_token_enable: dfs_block_access_token_enable
          dfs_block_access_token_lifetime: dfs_block_access_token_lifetime
          dfs_block_size: dfs_block_size
          dfs_blockreport_initialDelay: dfs_blockreport_initialDelay
          dfs_blockreport_intervalMsec: dfs_blockreport_intervalMsec
          dfs_client_block_write_retries: dfs_client_block_write_retries
          dfs_data_dir: dfs_data_dir
          dfs_datanode_address: dfs_datanode_address
          dfs_datanode_data_dir_perm: dfs_datanode_data_dir_perm
          dfs_datanode_dns_interface: dfs_datanode_dns_interface
          dfs_datanode_dns_nameserver: dfs_datanode_dns_nameserver
          dfs_datanode_du_reserved: dfs_datanode_du_reserved
          dfs_datanode_failed_volumes_tolerated: dfs_datanode_failed_volumes_tolerated
          dfs_datanode_handler_count: dfs_datanode_handler_count
          dfs_datanode_http_address: dfs_datanode_http_address
          dfs_datanode_https_address: dfs_datanode_https_address
          dfs_datanode_ipc_address: dfs_datanode_ipc_address
          dfs_default_chunk_view_size: dfs_default_chunk_view_size
          dfs_df_interval: dfs_df_interval
          dfs_heartbeat_interval: dfs_heartbeat_interval
          dfs_hosts: dfs_hosts
          dfs_hosts_exclude: dfs_hosts_exclude
          dfs_http_address: dfs_http_address
          dfs_https_address: dfs_https_address
          dfs_https_client_keystore_resource: dfs_https_client_keystore_resource
          dfs_https_enable: dfs_https_enable
          dfs_https_need_client_auth: dfs_https_need_client_auth
          dfs_https_server_keystore_resource: dfs_https_server_keystore_resource
          dfs_max_objects: dfs_max_objects
          dfs_name_dir: dfs_name_dir
          dfs_name_edits_dir: dfs_name_edits_dir
          dfs_namenode_decommission_interval: dfs_namenode_decommission_interval
          dfs_namenode_decommission_nodes_per_interval: dfs_namenode_decommission_nodes_per_interval
          dfs_namenode_delegation_key_update_interval: dfs_namenode_delegation_key_update_interval
          dfs_namenode_delegation_token_max_lifetime: dfs_namenode_delegation_token_max_lifetime
          dfs_namenode_delegation_token_renew_interval: dfs_namenode_delegation_token_renew_interval
          dfs_namenode_handler_count: dfs_namenode_handler_count
          dfs_namenode_logging_level: dfs_namenode_logging_level
          dfs_permissions: dfs_permissions
          dfs_permissions_supergroup: dfs_permissions_supergroup
          dfs_replication: dfs_replication
          dfs_replication_considerLoad: dfs_replication_considerLoad
          dfs_replication_interval: dfs_replication_interval
          dfs_replication_max: dfs_replication_max
          dfs_replication_min: dfs_replication_min
          dfs_safemode_extension: dfs_safemode_extension
          dfs_safemode_threshold_pct: dfs_safemode_threshold_pct
          dfs_secondary_http_address: dfs_secondary_http_address
          dfs_support_append: dfs_support_append
          dfs_web_ugi: dfs_web_ugi
          mapred_attributes: Hadoop Map Reduce Attributes
          attributes: Attributes
          hadoop_job_history_location: hadoop_job_history_location
          hadoop_job_history_user_location: hadoop_job_history_user_location
          hadoop_rpc_socket_factory_class_JobSubmissionProtocol: hadoop_rpc_socket_factory_class_JobSubmissionProtocol
          io_map_index_skip: io_map_index_skip
          io_sort_factor: io_sort_factor
          io_sort_mb: io_sort_mb
          io_sort_record_percent: io_sort_record_percent
          io_sort_spill_percent: io_sort_spill_percent
          job_end_retry_attempts: job_end_retry_attempts
          job_end_retry_interval: job_end_retry_interval
          jobclient_output_filter: jobclient_output_filter
          keep_failed_task_files: keep_failed_task_files
          map_sort_class: map_sort_class
          mapred_acls_enabled: mapred_acls_enabled
          mapred_child_env: mapred_child_env
          mapred_child_java_opts: mapred_child_java_opts
          mapred_child_tmp: mapred_child_tmp
          mapred_child_ulimit: mapred_child_ulimit
          mapred_cluster_map_memory_mb: mapred_cluster_map_memory_mb
          mapred_cluster_max_map_memory_mb: mapred_cluster_max_map_memory_mb
          mapred_cluster_max_reduce_memory_mb: mapred_cluster_max_reduce_memory_mb
          mapred_cluster_reduce_memory_mb: mapred_cluster_reduce_memory_mb
          mapred_compress_map_output: mapred_compress_map_output
          mapred_healthChecker_interval: mapred_healthChecker_interval
          mapred_healthChecker_script_args: mapred_healthChecker_script_args
          mapred_healthChecker_script_path: mapred_healthChecker_script_path
          mapred_healthChecker_script_timeout: mapred_healthChecker_script_timeout
          mapred_heartbeats_in_second: mapred_heartbeats_in_second
          mapred_hosts: mapred_hosts
          mapred_hosts_exclude: mapred_hosts_exclude
          mapred_inmem_merge_threshold: mapred_inmem_merge_threshold
          mapred_job_map_memory_mb: mapred_job_map_memory_mb
          mapred_job_queue_name: mapred_job_queue_name
          mapred_job_reduce_input_buffer_percent: mapred_job_reduce_input_buffer_percent
          mapred_job_reduce_memory_mb: mapred_job_reduce_memory_mb
          mapred_job_reuse_jvm_num_tasks: mapred_job_reuse_jvm_num_tasks
          mapred_job_shuffle_input_buffer_percent: mapred_job_shuffle_input_buffer_percent
          mapred_job_shuffle_merge_percent: mapred_job_shuffle_merge_percent
          mapred_job_tracker: mapred_job_tracker
          mapred_job_tracker_handler_count: mapred_job_tracker_handler_count
          mapred_job_tracker_history_completed_location: mapred_job_tracker_history_completed_location
          mapred_job_tracker_http_address: mapred_job_tracker_http_address
          mapred_job_tracker_jobhistory_lru_cache_size: mapred_job_tracker_jobhistory_lru_cache_size
          mapred_job_tracker_persist_jobstatus_active: mapred_job_tracker_persist_jobstatus_active
          mapred_job_tracker_persist_jobstatus_dir: mapred_job_tracker_persist_jobstatus_dir
          mapred_job_tracker_persist_jobstatus_hours: mapred_job_tracker_persist_jobstatus_hours
          mapred_job_tracker_retiredjobs_cache_size: mapred_job_tracker_retiredjobs_cache_size
          mapred_jobtracker_blacklist_fault_bucket_width: mapred_jobtracker_blacklist_fault_bucket_width
          mapred_jobtracker_blacklist_fault_timeout_window: mapred_jobtracker_blacklist_fault_timeout_window
          mapred_jobtracker_completeuserjobs_maximum: mapred_jobtracker_completeuserjobs_maximum
          mapred_jobtracker_job_history_block_size: mapred_jobtracker_job_history_block_size
          mapred_jobtracker_maxtasks_per_job: mapred_jobtracker_maxtasks_per_job
          mapred_jobtracker_restart_recover: mapred_jobtracker_restart_recover
          mapred_jobtracker_taskScheduler: mapred_jobtracker_taskScheduler
          mapred_jobtracker_taskScheduler_maxRunningTasksPerJob: mapred_jobtracker_taskScheduler_maxRunningTasksPerJob
          mapred_line_input_format_linespermap: mapred_line_input_format_linespermap
          mapred_local_dir: mapred_local_dir
          mapred_local_dir_minspacekill: mapred_local_dir_minspacekill
          mapred_local_dir_minspacestart: mapred_local_dir_minspacestart
          mapred_map_max_attempts: mapred_map_max_attempts
          mapred_map_output_compression_codec: mapred_map_output_compression_codec
          mapred_map_tasks: mapred_map_tasks
          mapred_map_tasks_speculative_execution: mapred_map_tasks_speculative_execution
          mapred_max_tracker_blacklists: mapred_max_tracker_blacklists
          mapred_max_tracker_failures: mapred_max_tracker_failures
          mapred_merge_recordsBeforeProgress: mapred_merge_recordsBeforeProgress
          mapred_min_split_size: mapred_min_split_size
          mapred_output_compress: mapred_output_compress
          mapred_output_compression_codec: mapred_output_compression_codec
          mapred_output_compression_type: mapred_output_compression_type
          mapred_queue_default_state: mapred_queue_default_state
          mapred_queue_names: mapred_queue_names
          mapred_reduce_copy_backoff: mapred_reduce_copy_backoff
          mapred_reduce_max_attempts: mapred_reduce_max_attempts
          mapred_reduce_parallel_copies: mapred_reduce_parallel_copies
          mapred_reduce_slowstart_completed_maps: mapred_reduce_slowstart_completed_maps
          mapred_reduce_tasks: mapred_reduce_tasks
          mapred_reduce_tasks_speculative_execution: mapred_reduce_tasks_speculative_execution
          mapred_skip_attempts_to_start_skipping: mapred_skip_attempts_to_start_skipping
          mapred_skip_map_auto_incr_proc_count: mapred_skip_map_auto_incr_proc_count
          mapred_skip_map_max_skip_records: mapred_skip_map_max_skip_records
          mapred_skip_out_dir: mapred_skip_out_dir
          mapred_skip_reduce_auto_incr_proc_count: mapred_skip_reduce_auto_incr_proc_count
          mapred_skip_reduce_max_skip_groups: mapred_skip_reduce_max_skip_groups
          mapred_submit_replication: mapred_submit_replication
          mapred_system_dir: mapred_system_dir
          mapred_task_cache_levels: mapred_task_cache_levels
          mapred_task_profile: mapred_task_profile
          mapred_task_profile_maps: mapred_task_profile_maps
          mapred_task_profile_reduces: mapred_task_profile_reduces
          mapred_task_timeout: mapred_task_timeout
          mapred_task_tracker_http_address: mapred_task_tracker_http_address
          mapred_task_tracker_report_address: mapred_task_tracker_report_address
          mapred_task_tracker_task_controller: mapred_task_tracker_task_controller
          mapred_tasktracker_dns_interface: mapred_tasktracker_dns_interface
          mapred_tasktracker_dns_nameserver: mapred_tasktracker_dns_nameserver
          mapred_tasktracker_expiry_interval: mapred_tasktracker_expiry_interval
          mapred_tasktracker_indexcache_mb: mapred_tasktracker_indexcache_mb
          mapred_tasktracker_map_tasks_maximum: mapred_tasktracker_map_tasks_maximum
          mapred_tasktracker_memory_calculator_plugin: mapred_tasktracker_memory_calculator_plugin
          mapred_tasktracker_reduce_tasks_maximum: mapred_tasktracker_reduce_tasks_maximum
          mapred_tasktracker_taskmemorymanager_monitoring_interval: mapred_tasktracker_taskmemorymanager_monitoring_interval
          mapred_tasktracker_tasks_sleeptime_before_sigkill: mapred_tasktracker_tasks_sleeptime_before_sigkill
          mapred_temp_dir: mapred_temp_dir
          mapred_user_jobconf_limit: mapred_user_jobconf_limit
          mapred_userlog_limit_kb: mapred_userlog_limit_kb
          mapred_userlog_retain_hours: mapred_userlog_retain_hours
          mapreduce_job_acl_modify_job: mapreduce_job_acl_modify_job
          mapreduce_job_acl_view_job: mapreduce_job_acl_view_job
          mapreduce_job_complete_cancel_delegation_tokens: mapreduce_job_complete_cancel_delegation_tokens
          mapreduce_job_counters_limit: mapreduce_job_counters_limit
          mapreduce_job_split_metainfo_maxsize: mapreduce_job_split_metainfo_maxsize
          mapreduce_jobtracker_staging_root_dir: mapreduce_jobtracker_staging_root_dir
          mapreduce_reduce_input_limit: mapreduce_reduce_input_limit
          mapreduce_reduce_shuffle_connect_timeout: mapreduce_reduce_shuffle_connect_timeout
          mapreduce_reduce_shuffle_read_timeout: mapreduce_reduce_shuffle_read_timeout
          mapreduce_tasktracker_group: mapreduce_tasktracker_group
          mapreduce_tasktracker_outofband_heartbeat: mapreduce_tasktracker_outofband_heartbeat
          tasktracker_http_threads: tasktracker_http_threads    
          scheduler_attributes: Hadoop Scheduler Attributes
          default_min_share_preemption_timeout: default_min_share_preemption_timeout
          default_pool_scheduling_mode: default_pool_scheduling_mode
          fair_share_preemption_timeout: fair_share_preemption_timeout
          pool_max_jobs_default: pool_max_jobs_default
          user_max_jobs_default: user_max_jobs_default   

rpms:
  pkgs:
    - cloudera-scm-agent
    - cloudera-scm-server
    - jdk
    - hadoop-0.20
    - hadoop-0.20-namenode
    - hadoop-0.20-jobtracker
    - hadoop-0.20-secondarynamenode
    - hadoop-0.20-datanode
    - hadoop-0.20-tasktracker